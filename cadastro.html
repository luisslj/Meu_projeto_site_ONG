<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cadastro - Salve as Capivaras</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header>
    <h1>Salve as Capivaras</h1>
    <nav aria-label="Menu principal">
      <ul>
        <li><a href="index.html">Início</a></li>
        <li><a href="projetos.html">Projetos</a></li>
        <li><a href="cadastro.html">Cadastro</a></li>
        <li><a href="#contato">Contato</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <form>
      <fieldset>
        <legend>Informações Pessoais</legend>
        <label for="nome">Nome Completo:</label>
        <input type="text" id="nome" name="nome" required />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required />

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" required />

        <label for="telefone">Telefone:</label>
        <input type="tel" id="telefone" name="telefone" required />

        <label for="nascimento">Data de Nascimento:</label>
        <input type="date" id="nascimento" name="nascimento" required />
      </fieldset>

      <fieldset>
        <legend>Endereço</legend>
        <label for="endereco">Endereço:</label>
        <input type="text" id="endereco" name="endereco" required />

        <label for="cep">CEP:</label>
        <input type="text" id="cep" name="cep" required />

        <label for="cidade">Cidade:</label>
        <input type="text" id="cidade" name="cidade" required />

        <label for="estado">Estado:</label>
        <select id="estado" name="estado" required>
          <option value="">Selecione</option>
          <option value="SP">SP</option>
          <option value="RJ">RJ</option>
          <option value="MG">MG</option>
        </select>
      </fieldset>

      <button type="submit">Enviar Cadastro</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 Salve as Capivaras</p>
    <section class="redes-sociais">
      <h3>Nos acompanhe</h3>
      <ul>
        <li><a href=""></a><img src="img/facebook.png" alt=""></li>
        <li><a href=""></a><img src="img/instagram.png" alt=""></li>
        <li><a href=""></a><img src="img/github.png" alt=""></li>
        <li><a href=""></a><img src="img/linkedin.png" alt=""></li>
      </ul>
    </section>

  <section id="contato" class = "contato">
    <h2>Entre em Contato</h2>
    <div class = "contato-div">
    <p>Email: exemplo@email.com</p>
    <p>Telefone: (11) 99999-9999</p>
    </div>

  </section>
  </footer>

  <script src="js/masks.js"></script>
  <script src="js/theme.js"></script>
  <script>
  document.querySelector('form').addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = {
      nome: document.getElementById('nome').value,
      email: document.getElementById('email').value,
      cpf: document.getElementById('cpf').value,
      telefone: document.getElementById('telefone').value,
      nascimento: document.getElementById('nascimento').value,
      endereco: document.getElementById('endereco').value,
      cep: document.getElementById('cep').value,
      cidade: document.getElementById('cidade').value,
      estado: document.getElementById('estado').value
    };

    try {
      const response = await fetch('http://localhost:3000/api/cadastro', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      });

      const result = await response.json();
      alert(result.mensagem);
    } catch (error) {
      alert('Erro ao enviar cadastro');
      console.error(error);
    }
  });
</script>

</body>
</html>